# Showbility - sehooh5

- Showbility Project 내 오세호 개인 파일
- ssh -i [개인키].pem ubuntu@13.209.10.151
- 개인 일정 및 진행방향 공유
- PORT
  - nginx : 80
  - uwsgi : http = 0.0.0.0:8080        
  - DB : 3306
- **서버 켜는법**
  - nginx + uwsgi로 작동함
    1. `nginx` 켜져 있는지 확인
       1. `sudo service nginx status`
       2. 안켜져 있으면 켜기 `sudo service nginx start````
    2. `uWSGI` 로 장고 서버 띄우기
       1. `sudo uwsgi --ini uwsgi.ini`
- **작동 안하는 가짜 설정파일들**
  - apache → 사용 안함
  - 관련 설정이 있는지 nginx가 죽으면 그 자리를 빼앗아(?) 시작됨
  - TODO: 지워두기
  - `run_with_env.sh` 이전에 테스트용으로 만들어둔 파일인듯
  - 작동 자체는 하긴 함 
  - 이걸 쓰면 80 포트에 파이썬 프로세스가 바로 붙는데, 권장되는 방법은 아님
  - nginx 에서 static 파일 serving을 하도록 설정되어 있는데, 파이썬을 바로 쓰는 경우 이게 작동 안해서 이미지 안보임





## Study or Survey

### Backend

#### Django - Flask 협업툴

- Django-ninja
  - 참고 페이지 : https://django-ninja.dev/
- FastAPI
- Vercel using Python
  - https://vercel.com/docs/functions/runtimes/python
- nginx
- wsgi



### Planning

#### 화해 플랫폼

- 가입 부분에 있어서 email 등 인증 관련한 부분 기획 참고





## Daily

#### 0905

- AWS 책 보고 공부
- AWS EC2 내 테스트서버 구축
  - 인스턴스를 추가할지
    - [쇼빌 인스턴스 정봅](https://showbility.notion.site/EC2-e2a8e40604fe4d1aa29739330011e254)
  - 아니면 한 개의 인스턴스 내 테스트서버도 구축할지[(링크)](https://hou27.tistory.com/entry/%ED%95%98%EB%82%98%EC%9D%98-EC2-%EC%95%88%EC%97%90-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%84%9C%EB%B2%84%EA%B9%8C%EC%A7%80-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-feat-AWS)



- 질문사항
  - 인스턴스, 볼륨이 두개로 나누어져있는데 차이점?



#### 0908

- AWS 접속
- 로그인, 가입, 게시물 오류 디버깅
  - 데이터베이스 연결 문제:
    - DB 서버가 다운되었거나 연결 문제가 있을 수 있습니다.
    - 연결 문자열이 변경되었거나 잘못되었을 수 있습니다.
  - 서버 리소스 부족:
    - CPU, 메모리, 디스크 공간 등이 부족할 수 있습니다.
  - ~~애플리케이션 코드 오류:~~
    - ~~최근 배포된 코드에 버그가 있을 수 있습니다.~~
  - 외부 서비스 의존성 문제:
    - 이메일 검증, 인증 등 외부 서비스에 문제가 있을 수 있습니다.
  - 캐시 문제:
    - 잘못된 데이터가 캐시되어 있을 수 있습니다.
  - 네트워크 문제:
    - 방화벽, 프록시 설정 등에 문제가 있을 수 있습니다.
  - 결국 서버꺼져서 다시 키는방향



#### 0909

- Survey 할것들 대충 공부해놓기 - 1시간
- 테스트서버 구축해보기



#### 0910

- Vercel 서버 이전 서베이
  - 비용
  - 유지/보수
  - 운영방법
  - 이전방법



- 인증번호 이메일 서베이
  - 구글 Gmail API
    - 사용 흐름
      1. 사용자가 회원가입/비밀번호 찾기 화면에서 [이메일 주소]를 입력 후 인증번호를 요청하면 [인증번호]를 생성해서 입력한 [이메일 주소]로 전송
      2. 사용자는 이메일로 받은 [인증번호]를 입력
      3. 입력한 [인증번호]를 실제 생성된 인증번호와 비교해서 맞는지 확인
         - 일치 : 통과
         - 불일치 : 에러메시지,  
    - 에러 처리
      - 이메일 전송 실패 시 : 사용자에게 전송 실패 메시지
      - 인증번호 유효기간 만료 시 : 인증 X, 유효기간이 지났음을 알리는 메시지